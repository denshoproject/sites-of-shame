<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Map - All Categories</title>
	<link href="https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css" rel="stylesheet">
	<script src="https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js"></script>
    <style>
 		body { 
             margin: 0; 
             padding: 0; 
        }
		#map { 
            position: absolute; 
            top: 0; 
            bottom: 0; 
            width: 100%; 
        }
		.map-overlay {
            position: absolute;
            bottom: 0;
            right: 0;
            background:#fff;
            margin-right: 50px;
            font-family: Helvetica;
            overflow: auto; 
        }
		#legend {
            padding: 10px;
            line-height: 16px;
            height: 130px;
            margin-bottom: 40px;
            width: 300px;
            font:10px;
        }
        .legend-key {
            display: inline-block;
            width: 10px;
            height: 10px;
            margin-right: 5px;
        }
	
        .mapboxgl-popup {
            max-width: 400px;
            font: 12px/20px Helvetica;
        }

	</style>

</head>
<body>
    <nav id="menu"></nav>
	<div id="map"></div>
	<div class="map-overlay" id="legend"></div>

<script type="text/javascript">
mapboxgl.accessToken = 'pk.eyJ1Ijoic3RhbWVuIiwiYSI6ImNrb2N5bHh4azAxc2Eydmxrb2kzc2J6a3oifQ.RGkRsYuGNbsO3vwtZLV5WQ';
var map = new mapboxgl.Map({
	container: 'map', // container id
	style: 'mapbox://styles/stamen/ckocyn94d0vd317rxcj4u84yx', // style URL
	center: [-88, 48], // starting position [lng, lat]
	zoom: 3 // starting zoom
});

map.on('load', function () {
// Add a data source containing GeoJSON data.

map.addSource('EAIS', {
	type: 'geojson',
	data: 
    {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "3",
        "name": "Santa Fe",
        "encyc_url": "https://encyclopedia.densho.org/Santa_Fe_(detention_facility)/",
        "date_opened": "February 1942",
        "date_closed": "September 1946",
        "peak_population": 2100
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -105.937799,
          35.6869752
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "3",
        "name": "Fort Lincoln (Bismarck)",
        "encyc_url": "https://encyclopedia.densho.org/Fort_Lincoln_(Bismarck)_(detention_facility)/",
        "date_opened": "December 7, 1941",
        "date_closed": "March 6, 1946",
        "peak_population": 1518
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -100.7837392,
          46.8083268
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "3",
        "name": "Crystal City",
        "encyc_url": "https://encyclopedia.densho.org/Crystal_City_(detention_facility)/",
        "date_opened": "November 2, 1942",
        "date_closed": "January 1948",
        "peak_population": 4000
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -99.8281104,
          28.6774795
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "3",
        "name": "Fort Missoula",
        "encyc_url": "https://encyclopedia.densho.org/Fort_Missoula_(detention_facility)/",
        "date_opened": "December 18, 1941",
        "date_closed": "July 1, 1944",
        "peak_population": 2003
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -114.019501,
          46.8605189
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "5",
        "name": "McNeil Island Federal Penitentiary",
        "encyc_url": "https://encyclopedia.densho.org/McNeil_Island_Penitentiary_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -122.6815078,
          47.2133614
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Lordsburg",
        "encyc_url": "https://encyclopedia.densho.org/Lordsburg_(detention_facility)/",
        "date_opened": "June 15, 1942",
        "date_closed": "1944",
        "peak_population": 2500
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -108.7086649,
          32.3503605
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "3",
        "name": "Fort Stanton",
        "encyc_url": "https://encyclopedia.densho.org/Fort_Stanton_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -105.5230362,
          33.495914
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "3",
        "name": "Kenedy",
        "encyc_url": "https://encyclopedia.densho.org/Kenedy_(detention_facility)/",
        "date_opened": "April 1, 1942",
        "date_closed": "September 1945",
        "peak_population": 2000
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -97.8486123,
          28.8191468
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Fort Sill",
        "encyc_url": "https://encyclopedia.densho.org/Fort_Sill_(detention_facility)/",
        "date_opened": "",
        "date_closed": "June 24, 1942",
        "peak_population": 707
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -98.5090089,
          34.70455949999999
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Stringtown",
        "encyc_url": "https://encyclopedia.densho.org/Stringtown_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 176
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -96.05332519999999,
          34.46676
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "5",
        "name": "Leavenworth Federal Penitentiary",
        "encyc_url": "https://encyclopedia.densho.org/Leavenworth_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -94.9224637,
          39.3111112
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Camp McCoy",
        "encyc_url": "https://encyclopedia.densho.org/Camp_McCoy_(detention_facility)/",
        "date_opened": "March 1, 1942",
        "date_closed": "",
        "peak_population": 293
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -90.68835519999999,
          44.012716
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "8",
        "name": "Ellis Island",
        "encyc_url": "https://encyclopedia.densho.org/Ellis_Island_(detention_facility)/",
        "date_opened": "December 1, 1941",
        "date_closed": "June 1944",
        "peak_population": 608
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -74.03955959999999,
          40.6994721
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Camp Forrest",
        "encyc_url": "https://encyclopedia.densho.org/Camp_Forrest_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -86.20943419999999,
          35.3620235
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "3",
        "name": "Seagoville",
        "encyc_url": "https://encyclopedia.densho.org/Seagoville_(detention_facility)/",
        "date_opened": "April 12, 1942",
        "date_closed": "June 30, 1945",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -96.53832279999999,
          32.6395776
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "8",
        "name": "Sharp Park",
        "encyc_url": "https://encyclopedia.densho.org/Sharp_Park_(detention_facility)/",
        "date_opened": "March 30, 1942",
        "date_closed": "1946",
        "peak_population": 379
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -122.4863492,
          37.6322976
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "3",
        "name": "Kooskia",
        "encyc_url": "https://encyclopedia.densho.org/Kooskia_(detention_facility)/",
        "date_opened": "May 1943",
        "date_closed": "May 1945",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -115.9779188,
          46.1448942
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "3",
        "name": "Old Raton Ranch",
        "encyc_url": "https://encyclopedia.densho.org/Old_Raton_(detention_facility)/",
        "date_opened": "January 23, 1942",
        "date_closed": "December 18, 1942",
        "peak_population": 32
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -105.3838716,
          33.4920276
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Camp Blanding",
        "encyc_url": "https://encyclopedia.densho.org/Camp_Blanding_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 343
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -82.1098275,
          29.9441298
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Camp Livingston",
        "encyc_url": "https://encyclopedia.densho.org/Camp_Livingston_(detention_facility)/",
        "date_opened": "June 8, 1942",
        "date_closed": "",
        "peak_population": 1123
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -92.4451371,
          31.3112936
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Camp Florence",
        "encyc_url": "https://encyclopedia.densho.org/Florence_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -111.3873431,
          33.0314508
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Fort Bliss",
        "encyc_url": "https://encyclopedia.densho.org/Fort_Bliss_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 91
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -106.4336693,
          31.8072113
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Fort Howard",
        "encyc_url": "https://encyclopedia.densho.org/Fort_Howard_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.44496029999999,
          39.2073308
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Fort Lewis",
        "encyc_url": "https://encyclopedia.densho.org/Fort_Lewis_(detention_facility)/",
        "date_opened": "1942",
        "date_closed": "3/30/1943",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -122.5647222,
          47.1144444
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Fort McDowell",
        "encyc_url": "https://encyclopedia.densho.org/Fort_McDowell_/_Angel_Island_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 199
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -122.4227496,
          37.8627046
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Fort Meade",
        "encyc_url": "https://encyclopedia.densho.org/Fort_Meade_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 384
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.72686030000001,
          39.1135041
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Fort Richardson",
        "encyc_url": "https://encyclopedia.densho.org/Fort_Richardson_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 17
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -149.68833,
          61.25444
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Fort Sam Houston",
        "encyc_url": "https://encyclopedia.densho.org/Fort_Sam_Houston_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 106
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -98.43076,
          29.4766354
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "7",
        "name": "Griffith Park",
        "encyc_url": "https://encyclopedia.densho.org/Griffith_Park_(detention_facility)/",
        "date_opened": "March 1942",
        "date_closed": "",
        "peak_population": 19
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -118.3089661,
          34.1808392
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "8",
        "name": "East Boston",
        "encyc_url": "https://encyclopedia.densho.org/East_Boston_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -71.0388601,
          42.37021370000001
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "8",
        "name": "San Francisco",
        "encyc_url": "https://encyclopedia.densho.org/San_Francisco_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -122.4194155,
          37.7749295
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "8",
        "name": "San Pedro",
        "encyc_url": "https://encyclopedia.densho.org/San_Pedro_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -118.2922461,
          33.7360619
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "8",
        "name": "Seattle",
        "encyc_url": "https://encyclopedia.densho.org/Seattle_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -122.3320708,
          47.6062095
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "eais",
        "Category2": "8",
        "name": "Tuna Canyon",
        "encyc_url": "https://encyclopedia.densho.org/Tuna_Canyon_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -118.3082747,
          34.2596475
        ]
      }
    }
  ]
}
})

map.addLayer({
'id': 'EAIS',
'type': 'circle',
'source': 'EAIS', // reference the data source
'paint': {
	'circle-radius':
    {
     property: "peak_population",
     stops: [
         [0,   5],
         [20000,   20]
          ]
   },
'circle-color': 
{
    property: "Category2",
    type: "categorical",
    stops: [
        ["1", "#ff7b54"],
        ["2", "#FFB26B"],
        ["3", "#ffd56b"],
        ["4", "#939b62"],
        ["5", "#faf2da"],
        ["6", "#8e9775"],
        ["7", "#4a503d"],
        ["8", "#e28f83"]
    ]
    }
}
});

map.addSource('WRA', {
	type: 'geojson',
	data: 
    {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "1",
        "name": "Topaz (Central Utah)",
        "encyc_url": "https://encyclopedia.densho.org/Topaz/",
        "date_opened": "September 11, 1942",
        "date_closed": "October 31, 1945",
        "peak_population": 8130
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -112.57717,
          39.3521777
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "1",
        "name": "Poston (Colorado River)",
        "encyc_url": "https://encyclopedia.densho.org/Poston_(Colorado_River)/",
        "date_opened": "June 2, 1942",
        "date_closed": "November 28, 1945",
        "peak_population": 17814
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -114.2891177,
          34.1500162
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "1",
        "name": "Gila River",
        "encyc_url": "https://encyclopedia.densho.org/Gila_River/",
        "date_opened": "July 20, 1942",
        "date_closed": "November 10, 1945",
        "peak_population": 13348
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -109.1865412,
          32.2212596
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "1",
        "name": "Granada (Amache)",
        "encyc_url": "https://encyclopedia.densho.org/Amache_(Granada)/",
        "date_opened": "August 27, 1942",
        "date_closed": "October 15, 1945",
        "peak_population": 7318
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -102.3234389,
          38.05692
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "1",
        "name": "Heart Mountain",
        "encyc_url": "https://encyclopedia.densho.org/Heart_Mountain/",
        "date_opened": "August 12, 1942",
        "date_closed": "November 10, 1945",
        "peak_population": 10767
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -109.0565308,
          44.52634219999999
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "1",
        "name": "Jerome",
        "encyc_url": "https://encyclopedia.densho.org/Jerome/",
        "date_opened": "October 6, 1942",
        "date_closed": "June 30, 1944",
        "peak_population": 8497
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -91.4556901,
          35.4263645
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "1",
        "name": "Manzanar",
        "encyc_url": "https://encyclopedia.densho.org/Manzanar/",
        "date_opened": "June 2, 1942",
        "date_closed": "November 21, 1945",
        "peak_population": 10046
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -118.1462987,
          36.7285184
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "1",
        "name": "Minidoka",
        "encyc_url": "https://encyclopedia.densho.org/Minidoka/",
        "date_opened": "August 10, 1942",
        "date_closed": "October 28, 1945",
        "peak_population": 9397
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -114.2500316,
          42.6782431
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "1",
        "name": "Rohwer",
        "encyc_url": "https://encyclopedia.densho.org/Rohwer/",
        "date_opened": "September 18, 1942",
        "date_closed": "November 30, 1945",
        "peak_population": 8475
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -91.3945566,
          33.6255234
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "1",
        "name": "Tule Lake",
        "encyc_url": "https://encyclopedia.densho.org/Tule_Lake/",
        "date_opened": "May 27, 1942",
        "date_closed": "March 20, 1946",
        "peak_population": 18789
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -121.3722116,
          41.8882132
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Puyallup (Camp Harmony)",
        "encyc_url": "https://encyclopedia.densho.org/Puyallup_(detention_facility)/",
        "date_opened": "April 28, 1942",
        "date_closed": "September 12, 1942",
        "peak_population": 7390
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -122.2928974,
          47.1853785
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Portland",
        "encyc_url": "https://encyclopedia.densho.org/Portland_(detention_facility)/",
        "date_opened": "May 2, 1942",
        "date_closed": "September 10, 1942",
        "peak_population": 3676
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -122.6762071,
          45.5234515
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Marysville",
        "encyc_url": "https://encyclopedia.densho.org/Marysville_(detention_facility)/",
        "date_opened": "May 8, 1942",
        "date_closed": "June 29, 1942",
        "peak_population": 2451
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -121.5913547,
          39.1457253
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Sacramento (Walerga)",
        "encyc_url": "https://encyclopedia.densho.org/Sacramento_(detention_facility)/",
        "date_opened": "May 6, 1942",
        "date_closed": "June 26, 1942",
        "peak_population": 4739
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -121.4943996,
          38.5815719
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Tanforan",
        "encyc_url": "https://encyclopedia.densho.org/Tanforan_(detention_facility)/",
        "date_opened": "April 28, 1942",
        "date_closed": "October 13, 1942",
        "peak_population": 7816
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -122.4110835,
          37.6304904
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Stockton",
        "encyc_url": "https://encyclopedia.densho.org/Stockton_(detention_facility)/",
        "date_opened": "May 10, 1942",
        "date_closed": "October 17, 1942",
        "peak_population": 4271
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -121.2907796,
          37.9577016
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Turlock",
        "encyc_url": "https://encyclopedia.densho.org/Turlock_(detention_facility)/",
        "date_opened": "April 30, 1942",
        "date_closed": "August 12, 1942",
        "peak_population": 3661
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -120.8465941,
          37.4946568
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Salinas",
        "encyc_url": "https://encyclopedia.densho.org/Salinas_(detention_facility)/",
        "date_opened": "April 27, 1942",
        "date_closed": "July 4, 1942",
        "peak_population": 3586
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -121.6555013,
          36.6777372
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Merced",
        "encyc_url": "https://encyclopedia.densho.org/Merced_(detention_facility)/",
        "date_opened": "May 6, 1942",
        "date_closed": "September 15, 1942",
        "peak_population": 4508
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -120.4829677,
          37.3021632
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Pinedale",
        "encyc_url": "https://encyclopedia.densho.org/Pinedale_(detention_facility)/",
        "date_opened": "May 7, 1942",
        "date_closed": "July 23, 1942",
        "peak_population": 4792
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -119.7961611,
          36.8411529
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Fresno",
        "encyc_url": "https://encyclopedia.densho.org/Fresno_(detention_facility)/",
        "date_opened": "May 6, 1942",
        "date_closed": "October 30, 1942",
        "peak_population": 5120
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -119.7725868,
          36.7468422
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Tulare",
        "encyc_url": "https://encyclopedia.densho.org/Tulare_(detention_facility)/",
        "date_opened": "April 20, 1942",
        "date_closed": "September 4, 1942",
        "peak_population": 4978
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -119.3473379,
          36.2077288
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Santa Anita",
        "encyc_url": "https://encyclopedia.densho.org/Santa_Anita_(detention_facility)/",
        "date_opened": "March 27, 1942",
        "date_closed": "October 27, 1942",
        "peak_population": 18719
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -118.0353449,
          34.1397292
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Pomona",
        "encyc_url": "https://encyclopedia.densho.org/Pomona_(detention_facility)/",
        "date_opened": "May 7, 1942",
        "date_closed": "August 24, 1942",
        "peak_population": 5434
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -117.7523048,
          34.0552267
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Mayer",
        "encyc_url": "https://encyclopedia.densho.org/Mayer_(detention_facility)/",
        "date_opened": "May 7, 1942",
        "date_closed": "June 2, 1942",
        "peak_population": 245
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -112.2362734,
          34.3978054
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "4",
        "name": "Moab Isolation Center",
        "encyc_url": "https://encyclopedia.densho.org/Moab_(detention_facility)/",
        "date_opened": "January 11, 1943",
        "date_closed": "April 27, 1943",
        "peak_population": 83
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -111.0937311,
          39.3209801
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "4",
        "name": "Leupp",
        "encyc_url": "https://encyclopedia.densho.org/Leupp_(detention_facility)/",
        "date_opened": "April 27, 1943",
        "date_closed": "December 2, 1943",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -111.0062528,
          35.2980659
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "6",
        "name": "Cow Creek",
        "encyc_url": "https://encyclopedia.densho.org/Cow_Creek_(detention_facility)/",
        "date_opened": "December 10, 1942",
        "date_closed": "February 15, 1943",
        "peak_population": 150
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -123.4980211,
          40.9177102
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "6",
        "name": "Antelope Springs",
        "encyc_url": "https://encyclopedia.densho.org/Antelope_Springs_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -113.4285714,
          37.7808064
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "6",
        "name": "Tulelake",
        "encyc_url": "https://encyclopedia.densho.org/Tulelake_(detention_facility)/",
        "date_opened": "March 1943",
        "date_closed": "October 1943",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -121.4774916,
          41.9559884
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Owens Valley",
        "encyc_url": "https://encyclopedia.densho.org/Owens_Valley_(detention_facility)/",
        "date_opened": "March 21, 1942",
        "date_closed": "June 2, 1942",
        "peak_population": 9666
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -118.1462987,
          36.7285184
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "2",
        "name": "Parker Dam",
        "encyc_url": "https://encyclopedia.densho.org/Parker_Dam_(detention_facility)/",
        "date_opened": "May 8, 1942",
        "date_closed": "May 31, 1942",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -114.2891177,
          34.1500162
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "wra",
        "Category2": "6",
        "name": "Nyssa, Oregon",
        "encyc_url": "https://encyclopedia.densho.org/Nyssa,_Oregon_(detention_facility)/",
        "date_opened": "",
        "date_closed": "",
        "peak_population": 50
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -116.9979309,
          43.8819705
        ]
      }
    }
  ]
}
})

map.addLayer({
'id': 'WRA',
'type': 'circle',
'source': 'WRA', // reference the data source
'paint': {
	'circle-radius':
    {
     property: "peak_population",
     stops: [
         [0,   5],
         [20000,   20]
          ]
   },

'circle-color': 
{
    property: "Category2",
    type: "categorical",
    stops: [
        ["1", "#ff7b54"],
        ["2", "#FFB26B"],
        ["3", "#ffd56b"],
        ["4", "#939b62"],
        ["5", "#faf2da"],
        ["6", "#8e9775"],
        ["7", "#4a503d"],
        ["8", "#e28f83"]
    ]
    }
}
});

map.addSource('Hawaii', {
	type: 'geojson',
	data: 
    {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "Category1": "hawaii",
        "Category2": "7",
        "name": "Sand Island",
        "encyc_url": "https://encyclopedia.densho.org/Sand_Island_(detention_facility)/",
        "encyc_article_title": "Sand Island (detention facility)",
        "date_opened": "December 1941",
        "date_closed": "March 1, 1943",
        "peak_population": "300",
        "location_name": "Sand Island, Oahu, Hawaii"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -157.8778435,
          21.3064413
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "Category1": "hawaii",
        "Category2": "7",
        "name": "Honouliuli",
        "encyc_url": "https://encyclopedia.densho.org/Honouliuli_(detention_facility)/",
        "encyc_article_title": "Honouliuli (detention facility)",
        "date_opened": "February 1943",
        "date_closed": "1945",
        "peak_population": "320",
        "location_name": "Honouliuli, Oahu, Hawaii"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -158.0361111,
          21.3677778
        ]
      }
    }
  ]
}

})

map.addLayer({
'id': 'Hawaii',
'type': 'circle',
'source': 'Hawaii', // reference the data source
'paint': {
	'circle-radius':
    {
     property: "peak_population",
     stops: [
         [0,   5],
         [20000,   20]
          ]
   },

'circle-color': 
{
    property: "Category2",
    type: "categorical",
    stops: [
        [1, "#ff7b54"],
        [2, "#FFB26B"],
        [3, "#ffd56b"],
        [4, "#939b62"],
        [5, "#faf2da"],
        [6, "#8e9775"],
        [7, "#4a503d"],
        [8, "#e28f83"]
    ]
    }
}
});

var layers = [
'Concentration Camp',
'Temporary Assembly Center',
'Department of Justice Internment Camp',
'Citizen Isolation Center',
'US Federal Prison',
'Additional Facility',
'US Army Internment Camp',
'Immigration Detention Station'
];

var colors = [
'#ff7b54',
'#FFB26B',
'#ffd56b',
'#939b62',
'#faf2da',
'#8e9775',
'#4a503d',
'#e28f83'
];

// create legend
for (i = 0; i < layers.length; i++) {
var layer = layers[i];
var color = colors[i];
var item = document.createElement('div');
var key = document.createElement('span');
key.className = 'legend-key';
key.style.backgroundColor = color;
 
var value = document.createElement('span');
value.innerHTML = layer;
item.appendChild(key);
item.appendChild(value);
legend.appendChild(item);
}

var popup = new mapboxgl.Popup({
closeButton: false,
closeOnClick: false
});

map.on('click', 'WRA', function (e) {
var coordinates = e.features[0].geometry.coordinates.slice();
var description2 = e.features[0].properties.name;
var url = e.features[0].properties.encyc_url; 
var dateclosed = e.features[0].properties.date_closed; 
var dateopened = e.features[0].properties.date_opened; 
popup.setLngLat(coordinates).setHTML("<a href=" + url + ">" + description2 + "</a>" + "<br><strong>Date Opened:</strong> " + dateopened + "<br><strong>Date Closed:</strong> " + dateclosed ).addTo(map);
});

map.on('click', 'EAIS', function (e) {
var coordinates = e.features[0].geometry.coordinates.slice();
var description2 = e.features[0].properties.name;
var url = e.features[0].properties.encyc_url; 
var dateclosed = e.features[0].properties.date_closed; 
var dateopened = e.features[0].properties.date_opened; 
popup.setLngLat(coordinates).setHTML("<a href=" + url + ">" + description2 + "</a>" + "<br><strong>Date Opened:</strong> " + dateopened + "<br><strong>Date Closed:</strong> " + dateclosed ).addTo(map);
});

map.on('click', 'Hawaii', function (e) { 
var coordinates = e.features[0].geometry.coordinates.slice();
var description2 = e.features[0].properties.name;
var url = e.features[0].properties.encyc_url; 
var dateclosed = e.features[0].properties.date_closed; 
var dateopened = e.features[0].properties.date_opened; 
popup.setLngLat(coordinates).setHTML("<a href=" + url + ">" + description2 + "</a>" + "<br><strong>Date Opened:</strong> " + dateopened + "<br><strong>Date Closed:</strong> " + dateclosed ).addTo(map);
});
});
</script>
</body>
</html>