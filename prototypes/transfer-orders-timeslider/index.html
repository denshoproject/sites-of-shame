<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Map - Transfer Orders</title>
	<link href="https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css" rel="stylesheet">
	<script src="https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js"></script>
    <style>
 		body { 
             margin: 0; 
             padding: 0; 
        }
		#map { 
            position: absolute; 
            top: 0; 
            bottom: 0; 
            width: 100%; 
        }
        .map-overlay2 {
            font: 12px helvetica;
            position: absolute;
            width: 25%;
            top: 0;
            left: 0;
            padding: 10px;
        }
        .map-overlay2 .map-overlay-inner {
            background-color: #fff;
            padding: 10px;
        }
 
	</style>
</head>
<body>
  <div id="map"></div>

  <div class="map-overlay2">
    <div class="map-overlay-inner">
    <h2>Transfer Orders (May - Oct 1942)</h2>
    <label id="month"></label>
    <input id="slider" type="range" min="1" max="6" step="1" value="1">
    <div id="monthtitle">
    </div>
    </div>
    </div>

  <script type="text/javascript">
mapboxgl.accessToken = 'pk.eyJ1Ijoic3RhbWVuIiwiYSI6ImNrb2N5bHh4azAxc2Eydmxrb2kzc2J6a3oifQ.RGkRsYuGNbsO3vwtZLV5WQ';
var map = new mapboxgl.Map({
	container: 'map', 
	style: 'mapbox://styles/stamen/ckocyn94d0vd317rxcj4u84yx', 
	center: [-88, 48], 
	zoom: 3 
});

document.getElementById('slider').addEventListener('input', function(e) {
  var month = parseInt(e.target.value);
  map.setFilter('route', ['==', ['number', ['get', 'month']], month]);
  month == 1 ? content.innerHTML = "<p>May 1942</p>" : month == 2 ? content.innerHTML = "<p>June 1942</p>" : month == 3 ? content.innerHTML = "<p>July 1942</p>" : month == 4 ? content.innerHTML = "<p>August 1942</p>" : month == 5 ? content.innerHTML = "<p>September 1942</p>" : content.innerHTML = "<p>October 1942</p>"
});



map.on('load', function () {

map.addSource('route', {
type: 'geojson',
data: './route.geojson'
});

map.addLayer({
'id': 'route',
'source': 'route',
'type': 'line',
'paint': {
'line-width': 
{
    property: 'widthtest',
    stops: [
            [1, 1],
           [650, 4]
]
},
'line-color': 'gray'
}
});

map.addSource('EAIS', {
	type: 'geojson',
	data: './eais.geojson'
})

map.addLayer({
'id': 'EAIS',
'type': 'circle',
'source': 'EAIS', 
'paint': {
	'circle-radius':
    {
     property: "peak_population",
     stops: [
         [0,   5],
         [20000,   20]
          ]
   },
'circle-color': 
{
    property: "Category2",
    type: "categorical",
    stops: [
        ["1", "#ff7b54"],
        ["2", "#FFB26B"],
        ["3", "#ffd56b"],
        ["4", "#939b62"],
        ["5", "#faf2da"],
        ["6", "#8e9775"],
        ["7", "#4a503d"],
        ["8", "#e28f83"]
    ]
    }
}
});

map.addSource('WRA', {
	type: 'geojson',
	data: './wra.geojson'
   
});

map.addLayer({
'id': 'WRA',
'type': 'circle',
'source': 'WRA', 
'paint': {
'circle-radius':
    {
     property: "peak_population",
     stops: [
         [0,   5],
         [20000,   20]
          ]
   },
'circle-color': 
{
    property: "Category2",
    type: "categorical",
    stops: [
        ["1", "#ff7b54"],
        ["2", "#FFB26B"],
        ["3", "#ffd56b"],
        ["4", "#939b62"],
        ["5", "#faf2da"],
        ["6", "#8e9775"],
        ["7", "#4a503d"],
        ["8", "#e28f83"]
    ]
    }
}
})

map.addSource('Hawaii', {
	type: 'geojson',
	data: './hawaii.geojson'
})

map.addLayer({
'id': 'Hawaii',
'type': 'circle',
'source': 'Hawaii', 
'paint': {
	'circle-radius':
    {
     property: "peak_population",
     stops: [
         [0,   5],
         [20000,   20]
          ]
   },
'circle-color': 
{
    property: "Category2",
    type: "categorical",
    stops: [
        [1, "#ff7b54"],
        [2, "#FFB26B"],
        [3, "#ffd56b"],
        [4, "#939b62"],
        [5, "#faf2da"],
        [6, "#8e9775"],
        [7, "#4a503d"],
        [8, "#e28f83"]
    ]
    }
}
});
});
</script>
</body>
</html>
